# Домашнее задание 1

## Паттерны декомпозиции микросервисов
### Цель: Разделить приложение на несколько микросервисов с учетом будущих изменений.

### Задача
Необходимо предоставить:

1. Пользовательские сценарии в свободном формате.
2. Общую схему взаимодействия сервисов в свободном формате.
3. Для каждого сервиса опиcать назначение сервиса и его зону ответственности в свободном формате.
4. Описать контракты взаимодействия сервисов друг с другом в свободном формате.

---

## В качестве примера возьмём интернет-магазин

### 1. Для него можно выделить следующие сценарии:

- Пользователь регистрируется в магазине
- Пользователь проходит аутентификацию
- Пользователь осуществляет поиск в каталоге товаров
- Пользователь формирует корзину
     - Добавляет товар
     - Удаляет товар
     - Изменяет количество единиц товара
     - Имеет возможность просмотреть корзину
     - Имеет возможность очистить корзину

- Пользователь оформляет заказ
    - Выбирает адрес доставки
    - Получает данные о времени доставки
    - Выбирает время доставки
    - Подтверждает заказ
- Пользователь оплачивает заказ
- Пользователь может отменить заказ


---
### 2. Схема взаимодействия
**2.1 Сервис Управление аккаунтом**

![Account Service](./account_service.png)
---
### 3. Описание сервисов. Назначение и зоны ответственности

### Сервисы
- Сервис Управление аккаунтом (Account)
- Сервис Каталог товаров (Catalog)
- Сервис Корзина (Cart)
- Сервис Заказ (Order)
- Сервис Курьерская служба (Courier)
- Сервис Оплата (Payment)
---
### 3.1 Сервис Управление аккаунтами

**Функционал:**
- Создание аккаунта
- Логин
- Логаут
- Чтение атрибутов пользователя
- Редактирование атрибутов пользователя

**Методы API:**

 - **`POST /v1/register`** - Регистрация пользователя в системе. 
    
    **Параметры:** 
    - JSON с данными о пользователе (имя, логин, пароль и т.д.)
 - **`GET /v1/profile/{id}`** - Получение данных о пользователе. 
    
    **Параметры:** 
    - id - идентификатор пользователя. 
    - JWT - передаётся в заголовке "X-Access-Token"
    
    **Возвращаемые значения:**
    - JSON с данными о пользователе

 - **`PATCH /v1/profile/{id}`** - Изменение данных пользователя. 

    **Параметры:** 
    - JSON с изменяемыми данными
    - JWT - передаётся в заголовке "X-Access-Token"

 - **`GET /v1/login`** - Аутентификация пользователя в системе. 
    **Возвращаемые значения:**
    - JWT
 - **`GET /v1/logoff`** - Выход из системы. 
    
---
### 3.2 Сервис Каталог 


**Функционал:**
- Просмотр товаров
- Поиск товаров
- Просмотр подробных сведений о товаре (характеристики, информация о наличии и пр.)
- Отправка товара в корзину

**Методы API:**

 - **`GET /v1/items/{offset}/{limit}`** - Просмотр перечня товаров. 
 
   **Параметры:**
   
   - offset - 'смещение' начального элемента списка; 
   - limit - требуемое количество товаров
   
   **Возвращаемые значения:** JSON с данными о товаре
   
 - `GET /v1/items/{id}` - Получение данных о конкретном товаре. 

   **Параметры:** 
    - id - идентификатор товара

    **Возвращаемые значения:** 
    - JSON с данными о товаре

 - `POST /v1/items/reserve/` - резервирование товара и добавление в корзину. 
    
    **Параметры:** 
    - JSON c идентификатором товара, количеством и идентификатором пользователя.
 
 - `POST /v1/items/unreserve/` - снятие резервирования товара при удалении из корзины. 
    
    **Параметры:** 
    - JSON c идентификатором товара и идентификатором пользователя.













